{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import*as Permissions from\"expo-permissions\";import{BarCodeScanner}from\"expo-barcode-scanner\";import{Camera}from'expo-camera';import Icon from\"@expo/vector-icons/FontAwesome5\";var Transaction=function(_React$Component){_inherits(Transaction,_React$Component);var _super=_createSuper(Transaction);function Transaction(){var _this;_classCallCheck(this,Transaction);_this=_super.call(this);_this.getCamPermissions=function _callee(id){var _await$Permissions$as,status;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));case 2:_await$Permissions$as=_context.sent;status=_await$Permissions$as.status;console.log(status);_this.setState({hasPermission:status===\"granted\",btnState:id,scanned:false});case 6:case\"end\":return _context.stop();}}},null,null,null,Promise);};_this.handleScan=function _callee2(_ref){var type,data,btnState;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:type=_ref.type,data=_ref.data;btnState=_this.state.btnState;if(btnState==='bookId'){_this.setState({scanned:true,scannedBookId:data,btnState:\"normal\"});}else if(btnState==='studentId'){_this.setState({scanned:true,scannedStudentId:data,btnState:\"normal\"});}case 3:case\"end\":return _context2.stop();}}},null,null,null,Promise);};_this.state={hasPermission:null,scanned:false,scannedStudentId:false,scannedBookId:false,scannedData:\" \",btnState:\"normal\"};return _this;}_createClass(Transaction,[{key:\"render\",value:function render(){if(this.state.hasPermission&&this.state.btnState===true){return React.createElement(BarCodeScanner,{onBarCodeScanned:this.state.scanned?undefined:this.handleScan,style:StyleSheet.absoluteFillObject});}else{return React.createElement(View,{style:styles.container},React.createElement(View,{style:styles.row},React.createElement(Icon,{style:styles.icon,name:\"money-check\",color:\"#7f5af0\",size:27}),React.createElement(Text,{style:styles.title},\"Transactions\")),React.createElement(TouchableOpacity,{style:styles.scan,onPress:this.getCamPermissions(studentId)},React.createElement(Text,null,\"Scan Student Id \")),React.createElement(TextInput,{placeholder:\"Student Id\",keyboardAppearance:\"dark\",style:styles.input,value:this.state.scannedStudentId}),React.createElement(TouchableOpacity,{style:styles.scan,onPress:this.getCamPermissions(bookId)},React.createElement(Text,null,\"Scan Book Id \")),React.createElement(TextInput,{placeholder:\"Book Id\",keyboardAppearance:\"dark\",style:styles.input,value:this.state.scannedBookId}));}}}]);return Transaction;}(React.Component);export{Transaction as default};var styles=StyleSheet.create({container:{flex:1,alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#16161a\"},row:{flexDirection:'row'},icon:{padding:10},title:{fontSize:30,fontWeight:\"bold\",color:\"#fffffe\"},scan:{alignItems:\"center\",backgroundColor:\"#DDDDDD\",padding:10}});","map":{"version":3,"sources":["C:/Users/Mudrank Gupta/OneDrive/WHJR/Pro/Wireless-Library-management/Screens/Transaction.js"],"names":["React","Permissions","BarCodeScanner","Camera","Icon","Transaction","getCamPermissions","id","askAsync","CAMERA","status","console","log","setState","hasPermission","btnState","scanned","handleScan","type","data","state","scannedBookId","scannedStudentId","scannedData","undefined","StyleSheet","absoluteFillObject","styles","container","row","icon","title","scan","studentId","input","bookId","Component","create","flex","alignItems","justifyContent","backgroundColor","flexDirection","padding","fontSize","fontWeight","color"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { StyleSheet, Text, View, TouchableOpacity } from \"react-native\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport { Camera } from 'expo-camera';\r\nimport Icon from 'react-native-vector-icons/FontAwesome5';\r\nexport default class Transaction extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hasPermission: null,\r\n      scanned: false,\r\n      scannedStudentId: false,\r\n      scannedBookId: false,\r\n      scannedData: \" \",\r\n      btnState: \"normal\",\r\n    };\r\n  }\r\n\r\ngetCamPermissions = async( id ) =>{\r\nconst { status } = await Permissions.askAsync(Permissions.CAMERA)\r\nconsole.log(status)\r\nthis.setState({\r\n  hasPermission: status === \"granted\",\r\n  btnState: id,\r\n  scanned: false,\r\n})\r\n\r\n}\r\n\r\nhandleScan = async( {type , data}) =>{\r\nconst {btnState} = this.state;\r\n\r\nif ( btnState === 'bookId' ){\r\n  this.setState({\r\n    scanned: true,\r\n    scannedBookId: data,\r\n    btnState: \"normal\",\r\n  })\r\n}else if (btnState === 'studentId'){\r\n  this.setState({\r\n    scanned: true,\r\n    scannedStudentId: data,\r\n    btnState: \"normal\",\r\n  })\r\n}\r\n\r\n \r\n}\r\n\r\n  render() {\r\nif ( this.state.hasPermission && this.state.btnState === true){\r\n  return (\r\n   <BarCodeScanner  onBarCodeScanned = { this.state.scanned ? undefined : this.handleScan } style={StyleSheet.absoluteFillObject} /> \r\n  )\r\n}\r\nelse {\r\n  \r\n    return (\r\n      <View style={styles.container}>\r\n          <View style={styles.row}>\r\n      <Icon style={styles.icon} name=\"money-check\" color='#7f5af0' size={27} />\r\n        <Text style={styles.title}>Transactions</Text>\r\n        </View>\r\n        <TouchableOpacity style={styles.scan}onPress={this.getCamPermissions(studentId)}>\r\n          <Text>Scan Student Id </Text>\r\n        </TouchableOpacity>\r\n\r\n        <TextInput\r\n        placeholder=\"Student Id\"\r\n        keyboardAppearance=\"dark\"\r\n        style={styles.input}\r\n        value={this.state.scannedStudentId}\r\n      ></TextInput>\r\n      \r\n      <TouchableOpacity style={styles.scan}onPress={this.getCamPermissions(bookId)}>\r\n          <Text>Scan Book Id </Text>\r\n        </TouchableOpacity>\r\n\r\n      <TextInput\r\n        placeholder=\"Book Id\"\r\n        keyboardAppearance=\"dark\"\r\n        style={styles.input}\r\n        value={this.state.scannedBookId}\r\n      ></TextInput>\r\n      </View>\r\n    );\r\n\r\n}\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#16161a\",\r\n  },\r\n  row:{\r\n    flexDirection:'row' \r\n   },\r\n   icon:{\r\n     padding:10\r\n   },\r\n  title: {\r\n    fontSize: 30,\r\n    fontWeight: \"bold\",\r\n    color: \"#fffffe\",\r\n  },\r\n  scan: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#DDDDDD\",\r\n    padding: 10\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}