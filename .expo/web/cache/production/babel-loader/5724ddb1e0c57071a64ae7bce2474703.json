{"ast":null,"code":"import _defineProperty2 from\"@babel/runtime/helpers/defineProperty\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty2(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import Platform from\"react-native-web/dist/exports/Platform\";import{getStatusBarHeight,getBottomSpace}from'react-native-iphone-x-helper';import{ThemeColors,ThemeContext}from'react-navigation';import CrossFadeIcon from\"./CrossFadeIcon\";import withDimensions from\"../utils/withDimensions\";var majorVersion=parseInt(Platform.Version,10);var isIos=Platform.OS==='ios';var isIOS11=majorVersion>=11&&isIos;var DEFAULT_HEIGHT=49;var COMPACT_HEIGHT=29;var DEFAULT_MAX_TAB_ITEM_WIDTH=125;var DEFAULT_KEYBOARD_ANIMATION_CONFIG={show:{animation:'timing',config:{useNativeDriver:true,duration:150}},hide:{animation:'timing',config:{useNativeDriver:true,duration:100}}};var TouchableWithoutFeedbackWrapper=function(_React$Component){_inherits(TouchableWithoutFeedbackWrapper,_React$Component);var _super=_createSuper(TouchableWithoutFeedbackWrapper);function TouchableWithoutFeedbackWrapper(){_classCallCheck(this,TouchableWithoutFeedbackWrapper);return _super.apply(this,arguments);}_createClass(TouchableWithoutFeedbackWrapper,[{key:\"render\",value:function render(){var _this$props=this.props,route=_this$props.route,focused=_this$props.focused,onPress=_this$props.onPress,onLongPress=_this$props.onLongPress,testID=_this$props.testID,accessibilityLabel=_this$props.accessibilityLabel,accessibilityRole=_this$props.accessibilityRole,accessibilityState=_this$props.accessibilityState,accessibilityStates=_this$props.accessibilityStates,rest=_objectWithoutProperties(_this$props,[\"route\",\"focused\",\"onPress\",\"onLongPress\",\"testID\",\"accessibilityLabel\",\"accessibilityRole\",\"accessibilityState\",\"accessibilityStates\"]);return React.createElement(TouchableWithoutFeedback,{onPress:onPress,onLongPress:onLongPress,testID:testID,hitSlop:{left:15,right:15,top:0,bottom:5},accessibilityLabel:accessibilityLabel,accessibilityRole:accessibilityRole,accessibilityState:accessibilityState,accessibilityStates:accessibilityStates},React.createElement(View,rest));}}]);return TouchableWithoutFeedbackWrapper;}(React.Component);var TabBarBottom=function(_React$Component2){_inherits(TabBarBottom,_React$Component2);var _super2=_createSuper(TabBarBottom);function TabBarBottom(){var _this;_classCallCheck(this,TabBarBottom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super2.call.apply(_super2,[this].concat(args));_defineProperty(_assertThisInitialized(_this),\"state\",{layout:{height:0,width:0},keyboard:false,visible:new Animated.Value(1)});_defineProperty(_assertThisInitialized(_this),\"context\",void 0);_defineProperty(_assertThisInitialized(_this),\"_getKeyboardAnimationConfigByType\",function(type){var keyboardHidesTabBarAnimationConfig=_this.props.keyboardHidesTabBarAnimationConfig;var defaultKeyboardAnimationConfig=DEFAULT_KEYBOARD_ANIMATION_CONFIG[type];var keyboardAnimationConfig=(keyboardHidesTabBarAnimationConfig===null||keyboardHidesTabBarAnimationConfig===void 0?void 0:keyboardHidesTabBarAnimationConfig[type])||defaultKeyboardAnimationConfig;if(keyboardAnimationConfig&&keyboardAnimationConfig.animation==='timing'){return _objectSpread(_objectSpread(_objectSpread({},defaultKeyboardAnimationConfig),keyboardAnimationConfig),{},{config:_objectSpread(_objectSpread({},defaultKeyboardAnimationConfig.config),keyboardAnimationConfig.config)});}return keyboardAnimationConfig;});_defineProperty(_assertThisInitialized(_this),\"_handleKeyboardShow\",function(){_this.setState({keyboard:true},function(){var _this$_getKeyboardAni=_this._getKeyboardAnimationConfigByType('show'),animation=_this$_getKeyboardAni.animation,config=_this$_getKeyboardAni.config;Animated[animation](_this.state.visible,_objectSpread({toValue:0},config)).start();});});_defineProperty(_assertThisInitialized(_this),\"_handleKeyboardHide\",function(){var _this$_getKeyboardAni2=_this._getKeyboardAnimationConfigByType('hide'),animation=_this$_getKeyboardAni2.animation,config=_this$_getKeyboardAni2.config;Animated[animation](_this.state.visible,_objectSpread({toValue:1},config)).start(function(){_this.setState({keyboard:false});});});_defineProperty(_assertThisInitialized(_this),\"_handleLayout\",function(e){var layout=_this.state.layout;var _e$nativeEvent$layout=e.nativeEvent.layout,height=_e$nativeEvent$layout.height,width=_e$nativeEvent$layout.width;if(height===layout.height&&width===layout.width){return;}_this.setState({layout:{height:height,width:width}});});_defineProperty(_assertThisInitialized(_this),\"_getActiveTintColor\",function(){var activeTintColor=_this.props.activeTintColor;if(!activeTintColor){return;}else if(typeof activeTintColor==='string'){return activeTintColor;}return activeTintColor[_this.context];});_defineProperty(_assertThisInitialized(_this),\"_getInactiveTintColor\",function(){var inactiveTintColor=_this.props.inactiveTintColor;if(!inactiveTintColor){return;}else if(typeof inactiveTintColor==='string'){return inactiveTintColor;}return inactiveTintColor[_this.context];});_defineProperty(_assertThisInitialized(_this),\"_getActiveBackgroundColor\",function(){var activeBackgroundColor=_this.props.activeBackgroundColor;if(!activeBackgroundColor){return;}else if(typeof activeBackgroundColor==='string'){return activeBackgroundColor;}return activeBackgroundColor[_this.context];});_defineProperty(_assertThisInitialized(_this),\"_getInactiveBackgroundColor\",function(){var inactiveBackgroundColor=_this.props.inactiveBackgroundColor;if(!inactiveBackgroundColor){return;}else if(typeof inactiveBackgroundColor==='string'){return inactiveBackgroundColor;}return inactiveBackgroundColor[_this.context];});_defineProperty(_assertThisInitialized(_this),\"_renderLabel\",function(_ref){var route=_ref.route,focused=_ref.focused;var _this$props2=_this.props,labelStyle=_this$props2.labelStyle,showLabel=_this$props2.showLabel,showIcon=_this$props2.showIcon,allowFontScaling=_this$props2.allowFontScaling;if(showLabel===false){return null;}var activeTintColor=_this._getActiveTintColor();var inactiveTintColor=_this._getInactiveTintColor();var label=_this.props.getLabelText({route:route});var tintColor=focused?activeTintColor:inactiveTintColor;var horizontal=_this._shouldUseHorizontalLabels();if(typeof label==='string'){return React.createElement(Animated.Text,{numberOfLines:1,style:[styles.label,{color:tintColor},showIcon&&horizontal?styles.labelBeside:styles.labelBeneath,labelStyle],allowFontScaling:allowFontScaling},label);}if(typeof label==='function'){return label({focused:focused,tintColor:tintColor,orientation:horizontal?'horizontal':'vertical'});}return label;});_defineProperty(_assertThisInitialized(_this),\"_renderIcon\",function(_ref2){var route=_ref2.route,focused=_ref2.focused;var _this$props3=_this.props,renderIcon=_this$props3.renderIcon,showIcon=_this$props3.showIcon,showLabel=_this$props3.showLabel;if(showIcon===false){return null;}var horizontal=_this._shouldUseHorizontalLabels();var activeTintColor=_this._getActiveTintColor();var inactiveTintColor=_this._getInactiveTintColor();var activeOpacity=focused?1:0;var inactiveOpacity=focused?0:1;return React.createElement(CrossFadeIcon,{route:route,horizontal:horizontal,activeOpacity:activeOpacity,inactiveOpacity:inactiveOpacity,activeTintColor:activeTintColor,inactiveTintColor:inactiveTintColor,renderIcon:renderIcon,style:[styles.iconWithExplicitHeight,showLabel===false&&!horizontal&&styles.iconWithoutLabel,showLabel!==false&&!horizontal&&styles.iconWithLabel]});});_defineProperty(_assertThisInitialized(_this),\"_shouldUseHorizontalLabels\",function(){var routes=_this.props.navigation.state.routes;var _this$props4=_this.props,isLandscape=_this$props4.isLandscape,dimensions=_this$props4.dimensions,adaptive=_this$props4.adaptive,tabStyle=_this$props4.tabStyle,labelPosition=_this$props4.labelPosition;if(labelPosition){var position;if(typeof labelPosition==='string'){position=labelPosition;}else{position=labelPosition({deviceOrientation:isLandscape?'horizontal':'vertical'});}if(position){return position==='beside-icon';}}if(!adaptive){return false;}if(Platform.isPad){var maxTabItemWidth=DEFAULT_MAX_TAB_ITEM_WIDTH;var flattenedStyle=StyleSheet.flatten(tabStyle);if(flattenedStyle){if(typeof flattenedStyle.width==='number'){maxTabItemWidth=flattenedStyle.width;}else if(typeof flattenedStyle.maxWidth==='number'){maxTabItemWidth=flattenedStyle.maxWidth;}}return routes.length*maxTabItemWidth<=dimensions.width;}else{return isLandscape;}});return _this;}_createClass(TabBarBottom,[{key:\"componentDidMount\",value:function componentDidMount(){if(Platform.OS==='ios'){Keyboard.addListener('keyboardWillShow',this._handleKeyboardShow);Keyboard.addListener('keyboardWillHide',this._handleKeyboardHide);}else{Keyboard.addListener('keyboardDidShow',this._handleKeyboardShow);Keyboard.addListener('keyboardDidHide',this._handleKeyboardHide);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(Platform.OS==='ios'){Keyboard.removeListener('keyboardWillShow',this._handleKeyboardShow);Keyboard.removeListener('keyboardWillHide',this._handleKeyboardHide);}else{Keyboard.removeListener('keyboardDidShow',this._handleKeyboardShow);Keyboard.removeListener('keyboardDidHide',this._handleKeyboardHide);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props5=this.props,navigation=_this$props5.navigation,keyboardHidesTabBar=_this$props5.keyboardHidesTabBar,onTabPress=_this$props5.onTabPress,onTabLongPress=_this$props5.onTabLongPress,isLandscape=_this$props5.isLandscape,safeAreaInset=_this$props5.safeAreaInset,style=_this$props5.style,tabStyle=_this$props5.tabStyle;var routes=navigation.state.routes;var isDark=this.context==='dark';var activeBackgroundColor=this._getActiveBackgroundColor();var inactiveBackgroundColor=this._getInactiveBackgroundColor();var _StyleSheet$flatten=StyleSheet.flatten(style||{}),position=_StyleSheet$flatten.position,top=_StyleSheet$flatten.top,_StyleSheet$flatten$l=_StyleSheet$flatten.left,left=_StyleSheet$flatten$l===void 0?0:_StyleSheet$flatten$l,_StyleSheet$flatten$b=_StyleSheet$flatten.bottom,bottom=_StyleSheet$flatten$b===void 0?0:_StyleSheet$flatten$b,_StyleSheet$flatten$r=_StyleSheet$flatten.right,right=_StyleSheet$flatten$r===void 0?0:_StyleSheet$flatten$r,margin=_StyleSheet$flatten.margin,marginTop=_StyleSheet$flatten.marginTop,marginLeft=_StyleSheet$flatten.marginLeft,marginBottom=_StyleSheet$flatten.marginBottom,marginRight=_StyleSheet$flatten.marginRight,marginHorizontal=_StyleSheet$flatten.marginHorizontal,marginVertical=_StyleSheet$flatten.marginVertical,height=_StyleSheet$flatten.height,innerStyle=_objectWithoutProperties(_StyleSheet$flatten,[\"position\",\"top\",\"left\",\"bottom\",\"right\",\"margin\",\"marginTop\",\"marginLeft\",\"marginBottom\",\"marginRight\",\"marginHorizontal\",\"marginVertical\",\"height\"]);var containerStyle={position:position,top:top,left:left,bottom:bottom,right:right,margin:margin,marginTop:marginTop,marginLeft:marginLeft,marginBottom:marginBottom,marginRight:marginRight,marginHorizontal:marginHorizontal,marginVertical:marginVertical};var statusBarHeight=getStatusBarHeight(true);var horizontalInset=isLandscape?statusBarHeight:0;var insets={bottom:typeof(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.bottom)==='number'?safeAreaInset.bottom:(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.bottom)==='never'?0:getBottomSpace(),left:typeof(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.left)==='number'?safeAreaInset.left:(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.left)==='never'?0:horizontalInset,right:typeof(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.right)==='number'?safeAreaInset.right:(safeAreaInset===null||safeAreaInset===void 0?void 0:safeAreaInset.right)==='never'?0:horizontalInset};var tabBarStyle=[{height:height!=null?typeof height==='number'?height+insets.bottom:height:(this._shouldUseHorizontalLabels()&&!Platform.isPad?COMPACT_HEIGHT:DEFAULT_HEIGHT)+insets.bottom,paddingBottom:insets.bottom,paddingLeft:insets.left,paddingRight:insets.right},styles.tabBar,isDark?styles.tabBarDark:styles.tabBarLight,innerStyle];return React.createElement(Animated.View,{style:[styles.container,containerStyle,keyboardHidesTabBar?{transform:[{translateY:this.state.visible.interpolate({inputRange:[0,1],outputRange:[this.state.layout.height,0]})}],position:this.state.keyboard?'absolute':position}:null],pointerEvents:keyboardHidesTabBar&&this.state.keyboard?'none':'auto',onLayout:this._handleLayout},React.createElement(View,{style:tabBarStyle},routes.map(function(route,index){var focused=index===navigation.state.index;var scene={route:route,focused:focused};var accessibilityLabel=_this2.props.getAccessibilityLabel({route:route});var accessibilityRole=_this2.props.getAccessibilityRole({route:route});var accessibilityStates=_this2.props.getAccessibilityStates(scene);var testID=_this2.props.getTestID({route:route});var backgroundColor=focused?activeBackgroundColor:inactiveBackgroundColor;var ButtonComponent=_this2.props.getButtonComponent({route:route})||TouchableWithoutFeedbackWrapper;return React.createElement(ButtonComponent,{key:route.key,route:route,focused:focused,onPress:function onPress(){return onTabPress({route:route});},onLongPress:function onLongPress(){return onTabLongPress({route:route});},testID:testID,accessibilityLabel:accessibilityLabel,accessibilityRole:accessibilityRole,accessibilityStates:accessibilityStates,style:[styles.tab,{backgroundColor:backgroundColor},_this2._shouldUseHorizontalLabels()?styles.tabLandscape:styles.tabPortrait,tabStyle]},_this2._renderIcon(scene),_this2._renderLabel(scene));})));}}]);return TabBarBottom;}(React.Component);_defineProperty(TabBarBottom,\"defaultProps\",{keyboardHidesTabBar:true,keyboardHidesTabBarAnimationConfig:DEFAULT_KEYBOARD_ANIMATION_CONFIG,activeTintColor:{light:'#007AFF',dark:'#fff'},inactiveTintColor:{light:'#8e8e93',dark:'#7f7f7f'},activeBackgroundColor:'transparent',inactiveBackgroundColor:'transparent',showLabel:true,showIcon:true,allowFontScaling:true,adaptive:isIOS11,safeAreaInset:{bottom:'always',top:'never'}});_defineProperty(TabBarBottom,\"contextType\",ThemeContext);var styles=StyleSheet.create({tabBar:{borderTopWidth:StyleSheet.hairlineWidth,flexDirection:'row'},tabBarLight:{backgroundColor:ThemeColors.light.header,borderTopColor:ThemeColors.light.headerBorder},tabBarDark:{backgroundColor:ThemeColors.dark.header,borderTopColor:ThemeColors.dark.headerBorder},container:{elevation:8},tab:{flex:1,alignItems:isIos?'center':'stretch'},tabPortrait:{justifyContent:'flex-end',flexDirection:'column'},tabLandscape:{justifyContent:'center',flexDirection:'row'},iconWithoutLabel:{flex:1},iconWithLabel:{flex:1},iconWithExplicitHeight:{height:Platform.isPad?DEFAULT_HEIGHT:COMPACT_HEIGHT},label:{textAlign:'center',backgroundColor:'transparent'},labelBeneath:{fontSize:11,marginBottom:1.5},labelBeside:{fontSize:12,marginLeft:20}});export default withDimensions(TabBarBottom);","map":{"version":3,"sources":["BottomTabBar.tsx"],"names":["majorVersion","parseInt","Platform","isIos","isIOS11","DEFAULT_HEIGHT","COMPACT_HEIGHT","DEFAULT_MAX_TAB_ITEM_WIDTH","DEFAULT_KEYBOARD_ANIMATION_CONFIG","show","animation","config","useNativeDriver","duration","hide","React","render","rest","left","right","top","bottom","accessibilityStates","TabBarBottom","keyboardHidesTabBar","keyboardHidesTabBarAnimationConfig","activeTintColor","light","dark","inactiveTintColor","activeBackgroundColor","inactiveBackgroundColor","showLabel","showIcon","allowFontScaling","adaptive","safeAreaInset","ThemeContext","layout","height","width","keyboard","visible","Animated","componentDidMount","Keyboard","componentWillUnmount","type","defaultKeyboardAnimationConfig","keyboardAnimationConfig","toValue","e","focused","label","route","tintColor","horizontal","styles","color","orientation","activeOpacity","inactiveOpacity","routes","labelPosition","position","deviceOrientation","isLandscape","maxTabItemWidth","flattenedStyle","StyleSheet","dimensions","tabStyle","navigation","isDark","innerStyle","style","containerStyle","margin","marginTop","marginLeft","marginBottom","marginRight","marginHorizontal","marginVertical","statusBarHeight","getStatusBarHeight","horizontalInset","insets","getBottomSpace","tabBarStyle","paddingBottom","paddingLeft","paddingRight","transform","translateY","inputRange","outputRange","_handleLayout","index","scene","accessibilityLabel","accessibilityRole","testID","backgroundColor","ButtonComponent","onTabPress","onTabLongPress","tabBar","borderTopWidth","flexDirection","tabBarLight","ThemeColors","borderTopColor","headerBorder","tabBarDark","container","elevation","tab","flex","alignItems","tabPortrait","justifyContent","tabLandscape","iconWithoutLabel","iconWithLabel","iconWithExplicitHeight","textAlign","labelBeneath","fontSize","labelBeside","withDimensions"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  TouchableWithoutFeedback,\n  StyleSheet,\n  View,\n  Keyboard,\n  Platform,\n  LayoutChangeEvent,\n} from 'react-native';\nimport {\n  getStatusBarHeight,\n  getBottomSpace,\n} from 'react-native-iphone-x-helper';\nimport { ThemeColors, ThemeContext, NavigationRoute } from 'react-navigation';\n\nimport CrossFadeIcon from './CrossFadeIcon';\nimport withDimensions from '../utils/withDimensions';\nimport {\n  BottomTabBarProps,\n  ButtonComponentProps,\n  KeyboardHidesTabBarAnimationConfig,\n  KeyboardAnimationConfig,\n} from '../types';\n\ntype State = {\n  layout: { height: number; width: number };\n  keyboard: boolean;\n  visible: Animated.Value;\n};\n\nconst majorVersion = parseInt(Platform.Version as string, 10);\nconst isIos = Platform.OS === 'ios';\nconst isIOS11 = majorVersion >= 11 && isIos;\n\nconst DEFAULT_HEIGHT = 49;\nconst COMPACT_HEIGHT = 29;\n\nconst DEFAULT_MAX_TAB_ITEM_WIDTH = 125;\nconst DEFAULT_KEYBOARD_ANIMATION_CONFIG: KeyboardHidesTabBarAnimationConfig = {\n  show: {\n    animation: 'timing',\n    config: {\n      useNativeDriver: true,\n      duration: 150,\n    },\n  },\n  hide: {\n    animation: 'timing',\n    config: {\n      useNativeDriver: true,\n      duration: 100,\n    },\n  },\n};\n\nclass TouchableWithoutFeedbackWrapper extends React.Component<\n  ButtonComponentProps\n> {\n  render() {\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      route,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      focused,\n      onPress,\n      onLongPress,\n      testID,\n      accessibilityLabel,\n      accessibilityRole,\n      accessibilityState,\n      accessibilityStates,\n      ...rest\n    } = this.props;\n\n    return (\n      <TouchableWithoutFeedback\n        onPress={onPress}\n        onLongPress={onLongPress}\n        testID={testID}\n        hitSlop={{ left: 15, right: 15, top: 0, bottom: 5 }}\n        accessibilityLabel={accessibilityLabel}\n        accessibilityRole={accessibilityRole}\n        accessibilityState={accessibilityState}\n        // @ts-expect-error: support older RN versions\n        accessibilityStates={accessibilityStates}\n      >\n        <View {...rest} />\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n\nclass TabBarBottom extends React.Component<BottomTabBarProps, State> {\n  static defaultProps = {\n    keyboardHidesTabBar: true,\n    keyboardHidesTabBarAnimationConfig: DEFAULT_KEYBOARD_ANIMATION_CONFIG,\n    activeTintColor: {\n      light: '#007AFF',\n      dark: '#fff',\n    },\n    inactiveTintColor: {\n      light: '#8e8e93',\n      dark: '#7f7f7f',\n    },\n    activeBackgroundColor: 'transparent',\n    inactiveBackgroundColor: 'transparent',\n    showLabel: true,\n    showIcon: true,\n    allowFontScaling: true,\n    adaptive: isIOS11,\n    safeAreaInset: { bottom: 'always', top: 'never' } as const,\n  };\n\n  // eslint-disable-next-line react/sort-comp\n  static contextType = ThemeContext;\n\n  state = {\n    layout: { height: 0, width: 0 },\n    keyboard: false,\n    visible: new Animated.Value(1),\n  };\n\n  componentDidMount() {\n    if (Platform.OS === 'ios') {\n      Keyboard.addListener('keyboardWillShow', this._handleKeyboardShow);\n      Keyboard.addListener('keyboardWillHide', this._handleKeyboardHide);\n    } else {\n      Keyboard.addListener('keyboardDidShow', this._handleKeyboardShow);\n      Keyboard.addListener('keyboardDidHide', this._handleKeyboardHide);\n    }\n  }\n\n  componentWillUnmount() {\n    if (Platform.OS === 'ios') {\n      Keyboard.removeListener('keyboardWillShow', this._handleKeyboardShow);\n      Keyboard.removeListener('keyboardWillHide', this._handleKeyboardHide);\n    } else {\n      Keyboard.removeListener('keyboardDidShow', this._handleKeyboardShow);\n      Keyboard.removeListener('keyboardDidHide', this._handleKeyboardHide);\n    }\n  }\n\n  // @ts-ignore\n  context: 'light' | 'dark';\n\n  _getKeyboardAnimationConfigByType = (\n    type: keyof KeyboardHidesTabBarAnimationConfig\n  ): KeyboardAnimationConfig => {\n    const { keyboardHidesTabBarAnimationConfig } = this.props;\n    const defaultKeyboardAnimationConfig =\n      DEFAULT_KEYBOARD_ANIMATION_CONFIG[type];\n    const keyboardAnimationConfig =\n      keyboardHidesTabBarAnimationConfig?.[type] ||\n      defaultKeyboardAnimationConfig;\n\n    // merge config only `timing` animation\n    if (\n      keyboardAnimationConfig &&\n      keyboardAnimationConfig.animation === 'timing'\n    ) {\n      return {\n        ...defaultKeyboardAnimationConfig,\n        ...keyboardAnimationConfig,\n        config: {\n          ...defaultKeyboardAnimationConfig.config,\n          ...keyboardAnimationConfig.config,\n        },\n      };\n    }\n\n    return keyboardAnimationConfig as KeyboardAnimationConfig;\n  };\n\n  _handleKeyboardShow = () => {\n    this.setState({ keyboard: true }, () => {\n      const { animation, config } = this._getKeyboardAnimationConfigByType(\n        'show'\n      );\n      // @ts-expect-error\n      Animated[animation](this.state.visible, {\n        toValue: 0,\n        ...config,\n      }).start();\n    });\n  };\n\n  _handleKeyboardHide = () => {\n    const { animation, config } = this._getKeyboardAnimationConfigByType(\n      'hide'\n    );\n    // @ts-expect-error\n    Animated[animation](this.state.visible, {\n      toValue: 1,\n      ...config,\n    }).start(() => {\n      this.setState({ keyboard: false });\n    });\n  };\n\n  _handleLayout = (e: LayoutChangeEvent) => {\n    const { layout } = this.state;\n    const { height, width } = e.nativeEvent.layout;\n\n    if (height === layout.height && width === layout.width) {\n      return;\n    }\n\n    this.setState({\n      layout: {\n        height,\n        width,\n      },\n    });\n  };\n\n  _getActiveTintColor = () => {\n    let { activeTintColor } = this.props;\n    if (!activeTintColor) {\n      return;\n    } else if (typeof activeTintColor === 'string') {\n      return activeTintColor;\n    }\n\n    return activeTintColor[this.context];\n  };\n\n  _getInactiveTintColor = () => {\n    let { inactiveTintColor } = this.props;\n    if (!inactiveTintColor) {\n      return;\n    } else if (typeof inactiveTintColor === 'string') {\n      return inactiveTintColor;\n    }\n\n    return inactiveTintColor[this.context];\n  };\n\n  _getActiveBackgroundColor = () => {\n    let { activeBackgroundColor } = this.props;\n    if (!activeBackgroundColor) {\n      return;\n    } else if (typeof activeBackgroundColor === 'string') {\n      return activeBackgroundColor;\n    }\n\n    return activeBackgroundColor[this.context];\n  };\n\n  _getInactiveBackgroundColor = () => {\n    let { inactiveBackgroundColor } = this.props;\n    if (!inactiveBackgroundColor) {\n      return;\n    } else if (typeof inactiveBackgroundColor === 'string') {\n      return inactiveBackgroundColor;\n    }\n\n    return inactiveBackgroundColor[this.context];\n  };\n\n  _renderLabel = ({\n    route,\n    focused,\n  }: {\n    route: NavigationRoute;\n    focused: boolean;\n  }) => {\n    const { labelStyle, showLabel, showIcon, allowFontScaling } = this.props;\n\n    if (showLabel === false) {\n      return null;\n    }\n\n    const activeTintColor = this._getActiveTintColor();\n    const inactiveTintColor = this._getInactiveTintColor();\n    const label = this.props.getLabelText({ route });\n    const tintColor = focused ? activeTintColor : inactiveTintColor;\n    const horizontal = this._shouldUseHorizontalLabels();\n\n    if (typeof label === 'string') {\n      return (\n        <Animated.Text\n          numberOfLines={1}\n          style={[\n            styles.label,\n            { color: tintColor },\n            showIcon && horizontal ? styles.labelBeside : styles.labelBeneath,\n            labelStyle,\n          ]}\n          allowFontScaling={allowFontScaling}\n        >\n          {label}\n        </Animated.Text>\n      );\n    }\n\n    if (typeof label === 'function') {\n      return label({\n        focused,\n        tintColor,\n        orientation: horizontal ? 'horizontal' : 'vertical',\n      });\n    }\n\n    return label;\n  };\n\n  _renderIcon = ({\n    route,\n    focused,\n  }: {\n    route: NavigationRoute;\n    focused: boolean;\n  }) => {\n    const { renderIcon, showIcon, showLabel } = this.props;\n\n    if (showIcon === false) {\n      return null;\n    }\n\n    const horizontal = this._shouldUseHorizontalLabels();\n\n    const activeTintColor = this._getActiveTintColor();\n    const inactiveTintColor = this._getInactiveTintColor();\n    const activeOpacity = focused ? 1 : 0;\n    const inactiveOpacity = focused ? 0 : 1;\n\n    return (\n      <CrossFadeIcon\n        route={route}\n        horizontal={horizontal}\n        activeOpacity={activeOpacity}\n        inactiveOpacity={inactiveOpacity}\n        activeTintColor={activeTintColor}\n        inactiveTintColor={inactiveTintColor}\n        renderIcon={renderIcon}\n        style={[\n          styles.iconWithExplicitHeight,\n          showLabel === false && !horizontal && styles.iconWithoutLabel,\n          showLabel !== false && !horizontal && styles.iconWithLabel,\n        ]}\n      />\n    );\n  };\n\n  _shouldUseHorizontalLabels = () => {\n    const { routes } = this.props.navigation.state;\n    const {\n      isLandscape,\n      dimensions,\n      adaptive,\n      tabStyle,\n      labelPosition,\n    } = this.props;\n\n    if (labelPosition) {\n      let position;\n      if (typeof labelPosition === 'string') {\n        position = labelPosition;\n      } else {\n        position = labelPosition({\n          deviceOrientation: isLandscape ? 'horizontal' : 'vertical',\n        });\n      }\n\n      if (position) {\n        return position === 'beside-icon';\n      }\n    }\n\n    if (!adaptive) {\n      return false;\n    }\n\n    // @ts-ignore\n    if (Platform.isPad) {\n      let maxTabItemWidth = DEFAULT_MAX_TAB_ITEM_WIDTH;\n\n      const flattenedStyle = StyleSheet.flatten(tabStyle);\n\n      if (flattenedStyle) {\n        if (typeof flattenedStyle.width === 'number') {\n          maxTabItemWidth = flattenedStyle.width;\n        } else if (typeof flattenedStyle.maxWidth === 'number') {\n          maxTabItemWidth = flattenedStyle.maxWidth;\n        }\n      }\n\n      return routes.length * maxTabItemWidth <= dimensions.width;\n    } else {\n      return isLandscape;\n    }\n  };\n\n  render() {\n    const {\n      navigation,\n      keyboardHidesTabBar,\n      onTabPress,\n      onTabLongPress,\n      isLandscape,\n      safeAreaInset,\n      style,\n      tabStyle,\n    } = this.props;\n\n    const { routes } = navigation.state;\n    const isDark = this.context === 'dark';\n\n    const activeBackgroundColor = this._getActiveBackgroundColor();\n    const inactiveBackgroundColor = this._getInactiveBackgroundColor();\n\n    const {\n      position,\n      top,\n      left = 0,\n      bottom = 0,\n      right = 0,\n      margin,\n      marginTop,\n      marginLeft,\n      marginBottom,\n      marginRight,\n      marginHorizontal,\n      marginVertical,\n      height,\n      ...innerStyle\n    } = StyleSheet.flatten(style || {});\n\n    const containerStyle = {\n      position,\n      top,\n      left,\n      bottom,\n      right,\n      margin,\n      marginTop,\n      marginLeft,\n      marginBottom,\n      marginRight,\n      marginHorizontal,\n      marginVertical,\n    };\n\n    const statusBarHeight = getStatusBarHeight(true);\n    const horizontalInset = isLandscape ? statusBarHeight : 0;\n    const insets = {\n      bottom:\n        typeof safeAreaInset?.bottom === 'number'\n          ? safeAreaInset.bottom\n          : safeAreaInset?.bottom === 'never'\n          ? 0\n          : getBottomSpace(),\n      left:\n        typeof safeAreaInset?.left === 'number'\n          ? safeAreaInset.left\n          : safeAreaInset?.left === 'never'\n          ? 0\n          : horizontalInset,\n      right:\n        typeof safeAreaInset?.right === 'number'\n          ? safeAreaInset.right\n          : safeAreaInset?.right === 'never'\n          ? 0\n          : horizontalInset,\n    };\n\n    const tabBarStyle = [\n      {\n        height:\n          height != null\n            ? typeof height === 'number'\n              ? height + insets.bottom\n              : height\n            : // @ts-ignore: isPad exists in runtime but not available in type defs\n              (this._shouldUseHorizontalLabels() && !Platform.isPad\n                ? COMPACT_HEIGHT\n                : DEFAULT_HEIGHT) + insets.bottom,\n        paddingBottom: insets.bottom,\n        paddingLeft: insets.left,\n        paddingRight: insets.right,\n      },\n      styles.tabBar,\n      isDark ? styles.tabBarDark : styles.tabBarLight,\n      innerStyle,\n    ];\n\n    return (\n      <Animated.View\n        style={[\n          styles.container,\n          containerStyle,\n          keyboardHidesTabBar\n            ? {\n                // When the keyboard is shown, slide down the tab bar\n                transform: [\n                  {\n                    translateY: this.state.visible.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [this.state.layout.height, 0],\n                    }),\n                  },\n                ],\n                // Absolutely position the tab bar so that the content is below it\n                // This is needed to avoid gap at bottom when the tab bar is hidden\n                position: this.state.keyboard ? 'absolute' : position,\n              }\n            : null,\n        ]}\n        pointerEvents={\n          keyboardHidesTabBar && this.state.keyboard ? 'none' : 'auto'\n        }\n        onLayout={this._handleLayout}\n      >\n        <View style={tabBarStyle}>\n          {routes.map((route, index) => {\n            const focused = index === navigation.state.index;\n            const scene = { route, focused };\n            const accessibilityLabel = this.props.getAccessibilityLabel({\n              route,\n            });\n\n            const accessibilityRole = this.props.getAccessibilityRole({\n              route,\n            });\n\n            const accessibilityStates = this.props.getAccessibilityStates(\n              scene\n            );\n\n            const testID = this.props.getTestID({ route });\n\n            const backgroundColor = focused\n              ? activeBackgroundColor\n              : inactiveBackgroundColor;\n\n            const ButtonComponent =\n              this.props.getButtonComponent({ route }) ||\n              TouchableWithoutFeedbackWrapper;\n\n            return (\n              <ButtonComponent\n                key={route.key}\n                route={route}\n                focused={focused}\n                onPress={() => onTabPress({ route })}\n                onLongPress={() => onTabLongPress({ route })}\n                testID={testID}\n                accessibilityLabel={accessibilityLabel}\n                accessibilityRole={accessibilityRole}\n                accessibilityStates={accessibilityStates}\n                style={[\n                  styles.tab,\n                  { backgroundColor },\n                  this._shouldUseHorizontalLabels()\n                    ? styles.tabLandscape\n                    : styles.tabPortrait,\n                  tabStyle,\n                ]}\n              >\n                {this._renderIcon(scene)}\n                {this._renderLabel(scene)}\n              </ButtonComponent>\n            );\n          })}\n        </View>\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  tabBar: {\n    borderTopWidth: StyleSheet.hairlineWidth,\n    flexDirection: 'row',\n  },\n  tabBarLight: {\n    backgroundColor: ThemeColors.light.header,\n    borderTopColor: ThemeColors.light.headerBorder,\n  },\n  tabBarDark: {\n    backgroundColor: ThemeColors.dark.header,\n    borderTopColor: ThemeColors.dark.headerBorder,\n  },\n  container: {\n    elevation: 8,\n  },\n  tab: {\n    flex: 1,\n    alignItems: isIos ? 'center' : 'stretch',\n  },\n  tabPortrait: {\n    justifyContent: 'flex-end',\n    flexDirection: 'column',\n  },\n  tabLandscape: {\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  iconWithoutLabel: {\n    flex: 1,\n  },\n  iconWithLabel: {\n    flex: 1,\n  },\n  iconWithExplicitHeight: {\n    // @ts-ignore\n    height: Platform.isPad ? DEFAULT_HEIGHT : COMPACT_HEIGHT,\n  },\n  label: {\n    textAlign: 'center',\n    backgroundColor: 'transparent',\n  },\n  labelBeneath: {\n    fontSize: 11,\n    marginBottom: 1.5,\n  },\n  labelBeside: {\n    fontSize: 12,\n    marginLeft: 20,\n  },\n});\n\nexport default withDimensions(TabBarBottom);\n"]},"metadata":{},"sourceType":"module"}