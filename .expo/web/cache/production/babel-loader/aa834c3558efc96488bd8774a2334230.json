{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import getNavigationActionCreators from\"./routers/getNavigationActionCreators\";import _getChildNavigation from\"./getChildNavigation\";import getChildrenNavigationCache from\"./getChildrenNavigationCache\";export default function getNavigation(router,state,dispatch,actionSubscribers,getScreenProps,getCurrentNavigation){var actions=router.getActionCreators(state,null);var navigation={actions:actions,router:router,state:state,dispatch:dispatch,getScreenProps:getScreenProps,getChildNavigation:function getChildNavigation(childKey){return _getChildNavigation(navigation,childKey,getCurrentNavigation);},isFocused:function isFocused(childKey){var _getCurrentNavigation=getCurrentNavigation().state,routes=_getCurrentNavigation.routes,index=_getCurrentNavigation.index;if(childKey==null||routes[index].key===childKey){return true;}return false;},addListener:function addListener(eventName,handler){if(eventName!=='action'){return{remove:function remove(){}};}actionSubscribers.add(handler);return{remove:function remove(){actionSubscribers.delete(handler);}};},dangerouslyGetParent:function dangerouslyGetParent(){return null;},isFirstRouteInParent:function isFirstRouteInParent(){return true;},_childrenNavigation:getChildrenNavigationCache(getCurrentNavigation())};var actionCreators=_objectSpread(_objectSpread({},getNavigationActionCreators(navigation.state)),actions);Object.keys(actionCreators).forEach(function(actionName){navigation[actionName]=function(){return navigation.dispatch(actionCreators[actionName].apply(actionCreators,arguments));};});return navigation;}","map":{"version":3,"sources":["getNavigation.js"],"names":["actions","router","navigation","state","dispatch","getScreenProps","getChildNavigation","childKey","isFocused","index","getCurrentNavigation","routes","addListener","eventName","remove","actionSubscribers","dangerouslyGetParent","isFirstRouteInParent","_childrenNavigation","getChildrenNavigationCache","actionCreators","getNavigationActionCreators","Object","actionName"],"mappings":"+1BAAA,MAAA,CAAA,2BAAA,6CACA,MAAA,CAAA,mBAAA,4BACA,MAAA,CAAA,0BAAA,oCAEA,cAAe,SAAA,CAAA,aAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,iBAAA,CAAA,cAAA,CAAA,oBAAA,CAOb,CACA,GAAMA,CAAAA,OAAO,CAAGC,MAAM,CAANA,iBAAAA,CAAAA,KAAAA,CAAhB,IAAgBA,CAAhB,CAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBF,OADiB,CACjBA,OADiB,CAEjBC,MAFiB,CAEjBA,MAFiB,CAGjBE,KAHiB,CAGjBA,KAHiB,CAIjBC,QAJiB,CAIjBA,QAJiB,CAKjBC,cALiB,CAKjBA,cALiB,CAMjBC,kBAAkB,CAAGC,4BAAAA,QAAD,QAClBD,CAAAA,mBAAkB,CAAA,UAAA,CAAA,QAAA,CAPH,oBAOG,CADA,EANH,CAQjBE,SAAS,CAAGD,mBAAAA,QAAD,CAAc,2BACGG,oBAAoB,GAA9C,KADuB,CACjB,MADiB,uBACjB,MADiB,CACPD,KADO,uBACPA,KADO,CAEvB,GAAIF,QAAQ,EAARA,IAAAA,EAAoBI,MAAM,CAANA,KAAM,CAANA,CAAAA,GAAAA,GAAxB,QAAA,CAAwD,CACtD,MAAA,KAAA,CACD,CACD,MAAA,MAAA,CAbe,CAAA,CAejBC,WAAW,CAAE,qBAAA,SAAA,CAAA,OAAA,CAAwB,CACnC,GAAIC,SAAS,GAAb,QAAA,CAA4B,CAC1B,MAAO,CAAEC,MAAM,CAAE,iBAAM,CAAE,CAAlB,CAAP,CACD,CACDC,iBAAiB,CAAjBA,GAAAA,CAAAA,OAAAA,EACA,MAAO,CACLD,MAAM,CAAE,iBAAM,CACZC,iBAAiB,CAAjBA,MAAAA,CAAAA,OAAAA,EACD,CAHI,CAAP,CApBe,CAAA,CA0BjBC,oBAAoB,CAAE,sCA1BL,KA0BK,EA1BL,CA2BjBC,oBAAoB,CAAE,sCA3BL,KA2BK,EA3BL,CA4BjBC,mBAAmB,CAAEC,0BAA0B,CAACT,oBAAD,EAAA,CA5B9B,CAAnB,CA+BA,GAAMU,CAAAA,cAAc,gCACfC,2BAA2B,CAACnB,UAAU,CADpB,KACS,CADZ,EAEfF,OAFe,CAApB,CAKAsB,MAAM,CAANA,IAAAA,CAAAA,cAAAA,EAAAA,OAAAA,CAAqCC,SAAAA,UAAD,CAAgB,CAClDrB,UAAU,CAAVA,UAAU,CAAVA,CAAyB,iBACvBA,CAAAA,UAAU,CAAVA,QAAAA,CAAoBkB,cAAc,CADpClB,UACoC,CAAdkB,OAAAA,cAAc,WAAlClB,CADuB,EAAzBA,CADFoB,CAAAA,EAKA,MAAA,CAAA,UAAA,CACD","sourcesContent":["import getNavigationActionCreators from './routers/getNavigationActionCreators';\nimport getChildNavigation from './getChildNavigation';\nimport getChildrenNavigationCache from './getChildrenNavigationCache';\n\nexport default function getNavigation(\n  router,\n  state,\n  dispatch,\n  actionSubscribers,\n  getScreenProps,\n  getCurrentNavigation\n) {\n  const actions = router.getActionCreators(state, null);\n\n  const navigation = {\n    actions,\n    router,\n    state,\n    dispatch,\n    getScreenProps,\n    getChildNavigation: (childKey) =>\n      getChildNavigation(navigation, childKey, getCurrentNavigation),\n    isFocused: (childKey) => {\n      const { routes, index } = getCurrentNavigation().state;\n      if (childKey == null || routes[index].key === childKey) {\n        return true;\n      }\n      return false;\n    },\n    addListener: (eventName, handler) => {\n      if (eventName !== 'action') {\n        return { remove: () => {} };\n      }\n      actionSubscribers.add(handler);\n      return {\n        remove: () => {\n          actionSubscribers.delete(handler);\n        },\n      };\n    },\n    dangerouslyGetParent: () => null,\n    isFirstRouteInParent: () => true,\n    _childrenNavigation: getChildrenNavigationCache(getCurrentNavigation()),\n  };\n\n  const actionCreators = {\n    ...getNavigationActionCreators(navigation.state),\n    ...actions,\n  };\n\n  Object.keys(actionCreators).forEach((actionName) => {\n    navigation[actionName] = (...args) =>\n      navigation.dispatch(actionCreators[actionName](...args));\n  });\n\n  return navigation;\n}\n"]},"metadata":{},"sourceType":"module"}