{"ast":null,"code":"import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import*as React from'react';import hoistStatics from'hoist-non-react-statics';import{withNavigation}from'@react-navigation/core';export default function createNavigationAwareScrollable(Component){var _class,_temp;var ComponentWithNavigationScrolling=withNavigation((_temp=_class=function(_React$PureComponent){_inherits(_class,_React$PureComponent);var _super=_createSuper(_class);function _class(){_classCallCheck(this,_class);return _super.apply(this,arguments);}_createClass(_class,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;this._subscription=this.props.navigation.addListener('refocus',function(){var scrollableNode=_this.getNode();if(_this.props.navigation.isFocused()&&scrollableNode!==null){if(scrollableNode.scrollToTop!=null){scrollableNode.scrollToTop();}else if(scrollableNode.scrollTo!=null){scrollableNode.scrollTo({y:0});}else if(scrollableNode.scrollResponderScrollTo!=null){scrollableNode.scrollResponderScrollTo({y:0});}}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this._subscription!=null){this._subscription.remove();}}},{key:\"getNode\",value:function getNode(){if(this._scrollRef===null){return null;}if(this._scrollRef.getScrollResponder){return this._scrollRef.getScrollResponder();}else if(this._scrollRef.getNode){return this._scrollRef.getNode();}else{return this._scrollRef;}}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(Component,_extends({ref:function ref(view){_this2._scrollRef=view;}},this.props));}}]);return _class;}(React.PureComponent),_defineProperty(_class,\"displayName\",\"withNavigationScrolling(\".concat(Component.displayName||Component.name,\")\")),_temp));var NavigationAwareScrollable=function(_React$PureComponent2){_inherits(NavigationAwareScrollable,_React$PureComponent2);var _super2=_createSuper(NavigationAwareScrollable);function NavigationAwareScrollable(){var _this3;_classCallCheck(this,NavigationAwareScrollable);for(var _len=arguments.length,_args=new Array(_len),_key=0;_key<_len;_key++){_args[_key]=arguments[_key];}_this3=_super2.call.apply(_super2,[this].concat(_args));_defineProperty(_assertThisInitialized(_this3),\"_captureRef\",function(view){_this3._innerRef=view;_this3.props.onRef&&_this3.props.onRef(view);});_defineProperty(_assertThisInitialized(_this3),\"setNativeProps\",function(){var _this3$_innerRef$getN;return(_this3$_innerRef$getN=_this3._innerRef.getNode()).setNativeProps.apply(_this3$_innerRef$getN,arguments);});_defineProperty(_assertThisInitialized(_this3),\"getScrollResponder\",function(){var _this3$_innerRef$getN2;return(_this3$_innerRef$getN2=_this3._innerRef.getNode()).getScrollResponder.apply(_this3$_innerRef$getN2,arguments);});_defineProperty(_assertThisInitialized(_this3),\"getScrollableNode\",function(){var _this3$_innerRef$getN3;return(_this3$_innerRef$getN3=_this3._innerRef.getNode()).getScrollableNode.apply(_this3$_innerRef$getN3,arguments);});_defineProperty(_assertThisInitialized(_this3),\"getInnerViewNode\",function(){var _this3$_innerRef$getN4;return(_this3$_innerRef$getN4=_this3._innerRef.getNode()).getInnerViewNode.apply(_this3$_innerRef$getN4,arguments);});_defineProperty(_assertThisInitialized(_this3),\"scrollTo\",function(){var _this3$_innerRef$getN5;return(_this3$_innerRef$getN5=_this3._innerRef.getNode()).scrollTo.apply(_this3$_innerRef$getN5,arguments);});_defineProperty(_assertThisInitialized(_this3),\"scrollToEnd\",function(){var _this3$_innerRef$getN6;return(_this3$_innerRef$getN6=_this3._innerRef.getNode()).scrollToEnd.apply(_this3$_innerRef$getN6,arguments);});_defineProperty(_assertThisInitialized(_this3),\"scrollWithoutAnimationTo\",function(){var _this3$_innerRef$getN7;return(_this3$_innerRef$getN7=_this3._innerRef.getNode()).scrollWithoutAnimationTo.apply(_this3$_innerRef$getN7,arguments);});_defineProperty(_assertThisInitialized(_this3),\"flashScrollIndicators\",function(){var _this3$_innerRef$getN8;return(_this3$_innerRef$getN8=_this3._innerRef.getNode()).flashScrollIndicators.apply(_this3$_innerRef$getN8,arguments);});return _this3;}_createClass(NavigationAwareScrollable,[{key:\"render\",value:function render(){return React.createElement(ComponentWithNavigationScrolling,_extends({},this.props,{onRef:this._captureRef}));}}]);return NavigationAwareScrollable;}(React.PureComponent);_defineProperty(NavigationAwareScrollable,\"displayName\",\"NavigationAwareScrollable(\".concat(Component.displayName||Component.name,\")\"));return hoistStatics(NavigationAwareScrollable,Component);}","map":{"version":3,"sources":["createNavigationAwareScrollable.js"],"names":["ComponentWithNavigationScrolling","withNavigation","React","Component","componentDidMount","scrollableNode","y","componentWillUnmount","getNode","render","view","_captureRef","hoistStatics"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\n\nexport default function createNavigationAwareScrollable(Component) {\n  const ComponentWithNavigationScrolling = withNavigation(\n    class extends React.PureComponent {\n      static displayName = `withNavigationScrolling(${\n        Component.displayName || Component.name\n      })`;\n\n      componentDidMount() {\n        this._subscription = this.props.navigation.addListener(\n          'refocus',\n          () => {\n            const scrollableNode = this.getNode();\n            if (this.props.navigation.isFocused() && scrollableNode !== null) {\n              if (scrollableNode.scrollToTop != null) {\n                scrollableNode.scrollToTop();\n              } else if (scrollableNode.scrollTo != null) {\n                scrollableNode.scrollTo({ y: 0 });\n              } else if (scrollableNode.scrollResponderScrollTo != null) {\n                scrollableNode.scrollResponderScrollTo({ y: 0 });\n              }\n            }\n          }\n        );\n      }\n\n      componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n\n      getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n\n      render() {\n        return (\n          <Component\n            ref={(view) => {\n              this._scrollRef = view;\n            }}\n            {...this.props}\n          />\n        );\n      }\n    }\n  );\n\n  class NavigationAwareScrollable extends React.PureComponent {\n    static displayName = `NavigationAwareScrollable(${\n      Component.displayName || Component.name\n    })`;\n\n    _captureRef = (view) => {\n      this._innerRef = view;\n      this.props.onRef && this.props.onRef(view);\n    };\n\n    setNativeProps = (...args) => {\n      return this._innerRef.getNode().setNativeProps(...args);\n    };\n\n    getScrollResponder = (...args) => {\n      return this._innerRef.getNode().getScrollResponder(...args);\n    };\n\n    getScrollableNode = (...args) => {\n      return this._innerRef.getNode().getScrollableNode(...args);\n    };\n\n    getInnerViewNode = (...args) => {\n      return this._innerRef.getNode().getInnerViewNode(...args);\n    };\n\n    scrollTo = (...args) => {\n      return this._innerRef.getNode().scrollTo(...args);\n    };\n\n    scrollToEnd = (...args) => {\n      return this._innerRef.getNode().scrollToEnd(...args);\n    };\n\n    scrollWithoutAnimationTo = (...args) => {\n      return this._innerRef.getNode().scrollWithoutAnimationTo(...args);\n    };\n\n    flashScrollIndicators = (...args) => {\n      return this._innerRef.getNode().flashScrollIndicators(...args);\n    };\n\n    render() {\n      return (\n        <ComponentWithNavigationScrolling\n          {...this.props}\n          onRef={this._captureRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(NavigationAwareScrollable, Component);\n}\n"]},"metadata":{},"sourceType":"module"}