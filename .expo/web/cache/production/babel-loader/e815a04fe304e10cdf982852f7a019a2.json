{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import*as Permissions from\"expo-permissions\";import{BarCodeScanner}from\"expo-barcode-scanner\";import{Camera}from'expo-camera';import Icon from\"@expo/vector-icons/FontAwesome5\";var Transaction=function(_React$Component){_inherits(Transaction,_React$Component);var _super=_createSuper(Transaction);function Transaction(){var _this;_classCallCheck(this,Transaction);_this=_super.call(this);_this.getCamPermissions=function _callee(){var _await$Permissions$as,status;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));case 2:_await$Permissions$as=_context.sent;status=_await$Permissions$as.status;console.log(status);_this.setState({hasPermission:status===\"granted\",btnState:\"clicked\"});case 6:case\"end\":return _context.stop();}}},null,null,null,Promise);};_this.handleScan=function _callee2(_ref){var type,data;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:type=_ref.type,data=_ref.data;_this.setState({scanned:true,scannedData:data,btnState:\"normal\"});case 2:case\"end\":return _context2.stop();}}},null,null,null,Promise);};_this.state={hasPermission:null,scanned:false,scannedData:\" \",btnState:\"normal\"};return _this;}_createClass(Transaction,[{key:\"render\",value:function render(){if(this.state.hasPermission&&this.state.btnState==='clicked'){return React.createElement(BarCodeScanner,{onBarCodeScanned:this.state.scanned?undefined:this.handleScan});}else{return React.createElement(View,{style:styles.container},React.createElement(View,{style:styles.row},React.createElement(Icon,{style:styles.icon,name:\"money-check\",color:\"#7f5af0\",size:27}),React.createElement(Text,{style:styles.title},\"Transactions\")),React.createElement(TouchableOpacity,{style:styles.scan,onPress:this.getCamPermissions},React.createElement(Text,null,\"Scan Qrcode\")),React.createElement(TextInput,{placeholder:\"Student Id\",keyboardAppearance:\"dark\",style:styles.input}));}}}]);return Transaction;}(React.Component);export{Transaction as default};var styles=StyleSheet.create({container:{flex:1,alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#16161a\"},row:{flexDirection:'row'},icon:{padding:10},title:{fontSize:30,fontWeight:\"bold\",color:\"#fffffe\"},scan:{alignItems:\"center\",backgroundColor:\"#DDDDDD\",padding:10}});","map":{"version":3,"sources":["C:/Users/Mudrank Gupta/OneDrive/WHJR/Pro/Wireless-Library-management/Screens/Transaction.js"],"names":["React","Permissions","BarCodeScanner","Camera","Icon","Transaction","getCamPermissions","askAsync","CAMERA","status","console","log","setState","hasPermission","btnState","handleScan","type","data","scanned","scannedData","state","undefined","styles","container","row","icon","title","scan","input","Component","StyleSheet","create","flex","alignItems","justifyContent","backgroundColor","flexDirection","padding","fontSize","fontWeight","color"],"mappings":"ikCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wPAEA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,kBAA7B,CACA,OAASC,cAAT,KAA+B,sBAA/B,CACA,OAASC,MAAT,KAAuB,aAAvB,CACA,MAAOC,CAAAA,IAAP,uC,GACqBC,CAAAA,W,yGACnB,sBAAc,6CACZ,wBADY,MAUhBC,iBAVgB,CAUI,sNACKL,WAAW,CAACM,QAAZ,CAAqBN,WAAW,CAACO,MAAjC,CADL,6CACZC,MADY,uBACZA,MADY,CAEpBC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,MAAKG,QAAL,CAAc,CACZC,aAAa,CAAEJ,MAAM,GAAK,SADd,CAEZK,QAAQ,CAAE,SAFE,CAAd,EAHoB,qEAVJ,OAoBhBC,UApBgB,CAoBH,2JAAQC,IAAR,MAAQA,IAAR,CAAeC,IAAf,MAAeA,IAAf,CACX,MAAKL,QAAL,CAAc,CACZM,OAAO,CAAE,IADG,CAEZC,WAAW,CAAEF,IAFD,CAGZH,QAAQ,CAAE,QAHE,CAAd,EADW,sEApBG,CAEZ,MAAKM,KAAL,CAAa,CACXP,aAAa,CAAE,IADJ,CAEXK,OAAO,CAAE,KAFE,CAGXC,WAAW,CAAE,GAHF,CAIXL,QAAQ,CAAE,QAJC,CAAb,CAFY,aAQb,C,8CAoBD,iBAAS,CACX,GAAK,KAAKM,KAAL,CAAWP,aAAX,EAA4B,KAAKO,KAAL,CAAWN,QAAX,GAAwB,SAAzD,CAAmE,CACjE,MACC,qBAAC,cAAD,EAAiB,gBAAgB,CAAK,KAAKM,KAAL,CAAWF,OAAX,CAAqBG,SAArB,CAAiC,KAAKN,UAA5E,EADD,CAGD,CAJD,IAKK,CAED,MACE,qBAAC,IAAD,EAAM,KAAK,CAAEO,MAAM,CAACC,SAApB,EACI,oBAAC,IAAD,EAAM,KAAK,CAAED,MAAM,CAACE,GAApB,EACJ,oBAAC,IAAD,EAAM,KAAK,CAAEF,MAAM,CAACG,IAApB,CAA0B,IAAI,CAAC,aAA/B,CAA6C,KAAK,CAAC,SAAnD,CAA6D,IAAI,CAAE,EAAnE,EADI,CAEF,oBAAC,IAAD,EAAM,KAAK,CAAEH,MAAM,CAACI,KAApB,iBAFE,CADJ,CAKE,oBAAC,gBAAD,EAAkB,KAAK,CAAEJ,MAAM,CAACK,IAAhC,CAAqC,OAAO,CAAE,KAAKrB,iBAAnD,EACE,oBAAC,IAAD,oBADF,CALF,CASE,oBAAC,SAAD,EACA,WAAW,CAAC,YADZ,CAEA,kBAAkB,CAAC,MAFnB,CAGA,KAAK,CAAEgB,MAAM,CAACM,KAHd,EATF,CADF,CAkBH,CACE,C,yBAxDsC5B,KAAK,CAAC6B,S,SAA1BxB,W,aA2DrB,GAAMiB,CAAAA,MAAM,CAAGQ,UAAU,CAACC,MAAX,CAAkB,CAC/BR,SAAS,CAAE,CACTS,IAAI,CAAE,CADG,CAETC,UAAU,CAAE,QAFH,CAGTC,cAAc,CAAE,QAHP,CAITC,eAAe,CAAE,SAJR,CADoB,CAO/BX,GAAG,CAAC,CACFY,aAAa,CAAC,KADZ,CAP2B,CAU9BX,IAAI,CAAC,CACHY,OAAO,CAAC,EADL,CAVyB,CAa/BX,KAAK,CAAE,CACLY,QAAQ,CAAE,EADL,CAELC,UAAU,CAAE,MAFP,CAGLC,KAAK,CAAE,SAHF,CAbwB,CAkB/Bb,IAAI,CAAE,CACJM,UAAU,CAAE,QADR,CAEJE,eAAe,CAAE,SAFb,CAGJE,OAAO,CAAE,EAHL,CAlByB,CAAlB,CAAf","sourcesContent":["import React from \"react\";\r\nimport { StyleSheet, Text, View, TouchableOpacity } from \"react-native\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport { Camera } from 'expo-camera';\r\nimport Icon from 'react-native-vector-icons/FontAwesome5';\r\nexport default class Transaction extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hasPermission: null,\r\n      scanned: false,\r\n      scannedData: \" \",\r\n      btnState: \"normal\",\r\n    };\r\n  }\r\n\r\ngetCamPermissions = async() =>{\r\nconst { status } = await Permissions.askAsync(Permissions.CAMERA)\r\nconsole.log(status)\r\nthis.setState({\r\n  hasPermission: status === \"granted\",\r\n  btnState: \"clicked\",\r\n})\r\n\r\n}\r\n\r\nhandleScan = async( {type , data}) =>{\r\n  this.setState({\r\n    scanned: true,\r\n    scannedData: data,\r\n    btnState: \"normal\",\r\n  })\r\n}\r\n\r\n  render() {\r\nif ( this.state.hasPermission && this.state.btnState === 'clicked'){\r\n  return (\r\n   <BarCodeScanner  onBarCodeScanned = { this.state.scanned ? undefined : this.handleScan} /> \r\n  )\r\n}\r\nelse {\r\n  \r\n    return (\r\n      <View style={styles.container}>\r\n          <View style={styles.row}>\r\n      <Icon style={styles.icon} name=\"money-check\" color='#7f5af0' size={27} />\r\n        <Text style={styles.title}>Transactions</Text>\r\n        </View>\r\n        <TouchableOpacity style={styles.scan}onPress={this.getCamPermissions}>\r\n          <Text>Scan Qrcode</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TextInput\r\n        placeholder=\"Student Id\"\r\n        keyboardAppearance=\"dark\"\r\n        style={styles.input}\r\n      ></TextInput>\r\n      </View>\r\n    );\r\n\r\n}\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#16161a\",\r\n  },\r\n  row:{\r\n    flexDirection:'row' \r\n   },\r\n   icon:{\r\n     padding:10\r\n   },\r\n  title: {\r\n    fontSize: 30,\r\n    fontWeight: \"bold\",\r\n    color: \"#fffffe\",\r\n  },\r\n  scan: {\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#DDDDDD\",\r\n    padding: 10\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}